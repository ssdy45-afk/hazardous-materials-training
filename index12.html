<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>위험물 안전관리 교육 12</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Red Tones -->
    <!-- Application Structure Plan: A thematic, single-page application focused on Fire Safety for Hazardous Materials. The structure includes a sticky top navigation for quick access to key sections. It features an interactive card interface for fire principles and prevention, a specific quiz, a mandatory training video, and a printable certificate upon completion. The confirmation section is locked until both the quiz (score >= 70) and video are completed. The certificate opens in a new, printable window without email functionality and with the updated logo. -->
    <!-- Visualization & Content Choices: Report Info: Fire safety principles -> Goal: Organize & Inform -> Viz/Presentation Method: Interactive cards/grids. -> Interaction: Static. -> Justification: Breaks down complex information. Report Info: Knowledge Check -> Goal: Test understanding -> Viz/Presentation Method: Interactive Quiz -> Interaction: User selection and immediate feedback -> Justification: Reinforces learning. Report Info: Mandatory Video -> Goal: Ensure training completion -> Viz/Presentation Method: Embedded YouTube video -> Interaction: Video must be played to the end to unlock the next step -> Justification: Enforces training prerequisite. Report Info: User Confirmation -> Goal: Certify completion -> Viz/Presentation Method: Input form -> Interaction: User input generates a certificate in a new window -> Justification: Provides a record of training. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #dc2626; 
        }
        .content-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
        }
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            background-color: #000;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
        }
        #player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #confirmation-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(4px);
            z-index: 10;
        }
        #custom-play-button {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 5;
            transition: opacity 0.3s;
        }
        #custom-play-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        #custom-play-button svg {
            width: 80px;
            height: 80px;
            fill: white;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-red-600">위험물 안전관리 교육 12</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#overview" class="nav-link text-slate-600 font-medium">화재 이론</a>
                <a href="#rules" class="nav-link text-slate-600 font-medium">예방 및 소화</a>
                <a href="#accidents" class="nav-link text-slate-600 font-medium">사고 사례</a>
                <a href="#test" class="nav-link text-slate-600 font-medium">안전 테스트</a>
                <a href="#video-training" class="nav-link text-slate-600 font-medium">필수 동영상</a>
                <a href="#confirmation" class="nav-link text-slate-600 font-medium">이수 확인</a>
            </div>
            <div class="md:hidden">
                <select id="mobile-nav" class="bg-white border border-slate-300 rounded-md p-2 text-slate-700">
                    <option value="#hero">메뉴 선택</option>
                    <option value="#overview">화재 이론</option>
                    <option value="#rules">예방 및 소화</option>
                    <option value="#accidents">사고 사례</option>
                    <option value="#test">안전 테스트</option>
                    <option value="#video-training">필수 동영상</option>
                    <option value="#confirmation">이수 확인</option>
                </select>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-12">
        
        <section id="hero" class="text-center py-12 md:py-20">
            <h2 class="text-3xl md:text-5xl font-bold mb-4">위험물 안전관리 교육 12</h2>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">이번 시간에는 **위험물 화재의 특성**과 **화재 예방 및 대응 방법**에 대해 심층적으로 학습합니다.</p>
        </section>

        <section id="overview" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">연소의 원리 및 위험물 화재의 특징</h3>
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                <div class="bg-white p-8 rounded-lg shadow-lg content-card">
                    <h4 class="text-xl font-bold text-red-600 mb-4">연소의 4요소</h4>
                    <p class="text-slate-600 leading-relaxed">불이 붙고 유지되기 위해서는 네 가지 요소가 필요합니다. 이 중 하나라도 제거하면 불은 꺼집니다.</p>
                     <ul class="space-y-2 text-slate-600 list-disc list-inside mt-4">
                        <li><strong>가연물:</strong> 불에 타는 물질 (위험물)</li>
                        <li><strong>산소공급원:</strong> 공기, 산화제 (제1, 5, 6류 위험물)</li>
                        <li><strong>점화원:</strong> 불을 붙이는 에너지 (정전기, 불꽃, 충격)</li>
                        <li><strong>연쇄반응:</strong> 연소가 지속되는 화학 반응</li>
                    </ul>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-lg content-card">
                    <h4 class="text-xl font-bold text-red-600 mb-4">위험물 화재의 특징</h4>
                    <p class="text-slate-600 leading-relaxed">일반 화재와 달리 위험물 화재는 다음과 같은 특징 때문에 더욱 위험하고 진압이 어렵습니다.</p>
                    <ul class="space-y-2 text-slate-600 list-disc list-inside mt-4">
                        <li>연소 속도가 매우 빠르고 폭발을 동반함.</li>
                        <li>화재 온도가 매우 높음.</li>
                        <li>유독가스 발생으로 인명피해 위험이 큼.</li>
                        <li>물로 소화할 수 없는 경우가 많음.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="rules" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">화재 예방 대책 및 소화 원리</h3>
            <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-red-700 text-center">✅ 화재 예방 3대 원칙</h4>
                    <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-4">
                        <li><strong>가연물 관리:</strong> 위험물은 허가된 장소에 종류별로 분리하여 안전하게 보관. 주변에 불필요한 가연물 방치 금지.</li>
                        <li><strong>점화원 관리:</strong> 화기 취급 장소 관리 철저, 정전기 방지 조치, 충격/마찰 방지, 방폭형 전기기구 사용.</li>
                        <li><strong>산소공급원 관리:</strong> 산화성 물질은 가연물과 격리 보관, 불활성 가스 봉입 등.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-red-700 text-center">🧯 소화의 4대 원리</h4>
                    <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-4">
                        <li><strong>제거소화:</strong> 타는 물질(가연물)을 없애는 방법. (예: 밸브 차단)</li>
                        <li><strong>질식소화:</strong> 산소 공급을 차단하는 방법. (예: 모래, CO2 소화기)</li>
                        <li><strong>냉각소화:</strong> 온도를 발화점 이하로 낮추는 방법. (예: 물 분무)</li>
                        <li><strong>부촉매(억제)소화:</strong> 연쇄반응을 차단하는 방법. (예: 할로겐화합물 소화기)</li>
                    </ul>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-red-700 text-center">⚠️ 위험물별 소화 방법</h4>
                    <p class="text-slate-600 text-sm mt-4">모든 화재에 물을 사용할 수 없습니다. 위험물의 종류에 맞는 소화 방법을 숙지해야 합니다.</p>
                     <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-2">
                        <li><strong>유류(제4류) 화재:</strong> 물 사용 금지(연소 확대). 거품(포), 분말, CO2 등으로 질식 소화.</li>
                        <li><strong>금속(제2,3류) 화재:</strong> 물 사용 절대 금지(폭발 위험). 마른 모래, 팽창질석 등으로 질식 소화.</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="accidents" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">화재 예방 부실로 인한 사고 사례</h3>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden content-card">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/u3wWzL0Ad8c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="p-6">
                    <h4 class="font-bold text-xl mb-2">화성 아리셀 공장 화재 (2024)</h4>
                    <p class="text-slate-600 text-sm mb-4">경기도 화성시의 리튬 일차전지 제조 공장에서 대형 화재가 발생하여 23명이 사망하고 8명이 부상당하는 참사가 발생했습니다. 완제품 배터리를 검수하고 포장하던 중 배터리 중 하나에서 폭발과 함께 화재가 시작되었고, 주변에 쌓여있던 다량의 배터리들이 연쇄적으로 폭발하며 불길이 걷잡을 수 없이 번졌습니다. 리튬은 제3류 위험물(금수성 물질)입니다.</p>
                    <div class="bg-red-100 p-3 rounded">
                        <h5 class="font-bold text-red-800 text-sm">원인 및 교훈</h5>
                        <p class="text-red-700 text-xs mt-1">리튬 배터리와 같은 위험물은 초기 화재 시 일반적인 소화 방법으로는 진압이 매우 어렵다는 점을 보여줍니다. 특히 금속 화재는 물과 반응하여 폭발 위험이 있으므로, 마른 모래나 금속화재용 전용 소화기를 사용해야 합니다. 또한, 작업장 내 위험물을 과도하게 보관하거나 비상 대피로가 확보되지 않은 점이 대규모 인명피해의 원인이 되었습니다. 위험물 특성에 맞는 소화 대책과 명확한 대피 계획 수립이 중요합니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="test" class="py-12 md:py-16 bg-white rounded-xl shadow-lg">
            <div class="text-center mb-10 px-4">
                <h3 class="text-2xl md:text-3xl font-bold mb-2">안전 지식 테스트 (위험물 화재)</h3>
                <p class="text-slate-600">학습한 내용을 바탕으로 퀴즈를 풀어보세요. 70점 이상 획득해야 이수증 발급이 가능합니다.</p>
            </div>
            <div id="quiz-container" class="max-w-4xl mx-auto px-4 md:px-8 space-y-8">
            </div>
            <div class="text-center mt-8">
                <button id="submit-quiz" class="bg-red-600 text-white font-bold py-3 px-8 rounded-full hover:bg-red-700 transition-colors">결과 확인</button>
            </div>
            <div id="quiz-results" class="max-w-4xl mx-auto px-4 md:px-8 mt-8 text-center"></div>
        </section>

        <section id="video-training" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">필수 교육 동영상 시청</h3>
            <div class="max-w-4xl mx-auto bg-white p-4 rounded-xl shadow-lg">
                <div id="video-container" class="rounded-lg overflow-hidden">
                    <div id="player"></div>
                    <div id="custom-play-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M8,5.14V19.14L19,12.14L8,5.14Z" />
                        </svg>
                    </div>
                </div>
                <p id="video-message" class="text-center text-red-600 font-semibold mt-4">이수 확인을 위해 동영상을 끝까지 시청해주세요.</p>
            </div>
        </section>

        <section id="confirmation" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">교육 이수 확인</h3>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg relative">
                 <div id="confirmation-form-wrapper">
                    <p class="text-slate-600 mb-6 text-center">아래 정보를 입력하고 '이수 확인증 생성' 버튼을 눌러 교육 이수를 완료하세요.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="userName" class="block text-sm font-medium text-slate-700">소속 / 이름</label>
                            <input type="text" id="userName" name="userName" placeholder="예: 홍길동 (안전관리팀)" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-red-500 focus:border-red-500">
                        </div>
                        <div>
                            <label for="completionDate" class="block text-sm font-medium text-slate-700">이수 날짜</label>
                            <input type="date" id="completionDate" name="completionDate" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500">
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button id="confirm-completion" class="bg-red-600 text-white font-bold py-3 px-8 rounded-full hover:bg-red-700 transition-colors">이수 확인증 생성</button>
                    </div>
                </div>
                <div id="confirmation-overlay" class="flex items-center justify-center text-center rounded-xl">
                    <p id="overlay-text" class="text-lg font-bold text-slate-700 bg-slate-200/80 p-6 rounded-lg">
                        <span class="text-3xl mb-2 block">🔒</span>
                        안전 테스트를 70점 이상으로 통과하고<br>필수 교육 동영상을 시청해주세요.
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-12">
        <div class="container mx-auto px-6 py-10 text-center">
            <h3 class="text-2xl font-bold mb-4 text-red-500">안전은 실천입니다.</h3>
            <p class="text-slate-300 max-w-2xl mx-auto mb-6">위험 요소 발견 시 즉시 보고하고, 정기적인 안전 교육과 훈련에 적극적으로 참여하여 우리 모두의 안전한 일터를 만듭시다.</p>
            <p class="text-sm text-slate-400">&copy; 2024 Interactive Safety Guide. All Rights Reserved.</p>
        </div>
    </footer>
    
    <script>
        let player;
        let finalQuizScore = 0;
        let isQuizCompleted = false;
        let isVideoCompleted = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'KgCaXeNK8IU', 
                playerVars: { 
                    'playsinline': 1,
                    'controls': 0,
                    'disablekb': 1,
                    'rel': 0
                },
                events: { 'onStateChange': onPlayerStateChange }
            });
        }

        function onPlayerStateChange(event) {
            const customPlayButton = document.getElementById('custom-play-button');
            if (event.data == YT.PlayerState.PLAYING) {
                customPlayButton.style.display = 'none';
            }
            if (event.data == YT.PlayerState.PAUSED) {
                customPlayButton.style.display = 'flex';
            }
            if (event.data == YT.PlayerState.ENDED) {
                customPlayButton.style.display = 'flex';
                isVideoCompleted = true;
                document.getElementById('video-message').textContent = '✅ 동영상 시청을 완료했습니다.';
                document.getElementById('video-message').classList.remove('text-red-600');
                document.getElementById('video-message').classList.add('text-green-500');
                checkCompletionStatus();
            }
        }

        function checkCompletionStatus() {
            const overlay = document.getElementById('confirmation-overlay');
            const overlayText = document.getElementById('overlay-text');
            if (isQuizCompleted && isVideoCompleted) {
                overlay.style.display = 'none';
            } else if (isQuizCompleted && !isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>필수 교육 동영상을 시청해주세요.`;
            } else if (!isQuizCompleted && isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>안전 테스트를 70점 이상으로 통과해주세요.`;
            }
        }
        
        function openCertificateWindow(userName, completionDate, quizScore) {
            const certWindow = window.open('', '_blank', 'width=1123,height=794');
            certWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <title>위험물 안전교육 이수 확인증</title>
                    <script src="https://cdn.tailwindcss.com"><\/script>
                    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
                    <style>
                        body { font-family: 'Noto Sans KR', sans-serif; }
                        @media print {
                            #cert-actions { display: none; }
                        }
                    </style>
                </head>
                <body class="bg-gray-100 flex items-center justify-center">
                    <div class="bg-white p-10 relative w-full max-w-4xl aspect-[297/210] shadow-lg" id="certificate-content">
                        <div class="absolute top-8 right-8">
                             <img src="https://d32gkk464bsqbe.cloudfront.net/company-profiles/o/58445cdc9bb4dffd9edfde94c4a06cf87f4ac55f.jpeg?v=6.8.13" alt="Thermo Fisher Scientific Logo" class="w-40">
                        </div>
                        <div class="flex flex-col h-full justify-center items-center text-center">
                            <h1 class="text-5xl font-bold text-[#E1251B] mb-20">위험물 안전교육 이수 확인증</h1>
                            <div class="text-2xl space-y-4 text-left">
                                <p><strong>교육 과정:</strong> 위험물 안전관리 교육 12 (화재 예방 및 대응)</p>
                                <p><strong>날짜:</strong> ${completionDate.replaceAll('-', '.')}</p>
                                <p><strong>TEST 결과:</strong> ${quizScore}점</p>
                                <p><strong>소속:</strong> 인천 ICDC</p>
                                <p><strong>이름:</strong> ${userName}</p>
                            </div>
                        </div>
                        <div id="cert-actions" class="absolute bottom-4 right-4 space-x-2">
                            <button onclick="window.print()" class="bg-red-600 text-white font-bold py-2 px-4 rounded hover:bg-red-700 transition-colors">인쇄</button>
                            <button onclick="window.close()" class="bg-slate-500 text-white font-bold py-2 px-4 rounded hover:bg-slate-600 transition-colors">닫기</button>
                        </div>
                    </div>
                </body>
                </html>
            `);
            certWindow.document.close();
        }

        document.addEventListener('DOMContentLoaded', function () {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            
            const customPlayButton = document.getElementById('custom-play-button');
            if (customPlayButton) {
                customPlayButton.addEventListener('click', () => {
                    if (player && typeof player.playVideo === 'function') {
                        player.playVideo();
                    }
                });
            }

            const quizData = [
                { question: "1. 연소의 4요소가 아닌 것은?", options: ["가연물", "산소공급원", "질소", "점화원"], answer: "질소" },
                { question: "2. 휘발유 화재(유류 화재) 시 물을 뿌리면 안 되는 이유는?", options: ["물이 기름보다 비싸서", "기름이 물보다 가벼워 물 위에 떠서 연소면이 확대되기 때문에", "물이 부족해서"], answer: "기름이 물보다 가벼워 물 위에 떠서 연소면이 확대되기 때문에" },
                { question: "3. 화재 예방의 3대 원칙에 해당하지 않는 것은?", options: ["가연물 관리", "점화원 관리", "소화기 관리", "산소공급원 관리"], answer: "소화기 관리" },
                { question: "4. 모래를 사용하여 불을 끄는 것은 어떤 소화 원리를 이용한 것인가요?", options: ["냉각소화", "질식소화", "제거소화", "억제소화"], answer: "질식소화" },
                { question: "5. 리튬과 같은 금속 화재에 적합한 소화 방법은?", options: ["물을 뿌린다", "이산화탄소 소화기를 사용한다", "마른 모래로 덮는다", "부채질을 한다"], answer: "마른 모래로 덮는다" },
                { question: "6. 정전기가 점화원이 될 수 있는 위험물은 주로 어떤 것인가요?", options: ["산화성 고체", "인화성 액체", "불연성 가스", "산화성 액체"], answer: "인화성 액체" },
                { question: "7. 화재 발생 시 가장 먼저 해야 할 행동은 무엇인가요?", options: ["물건을 챙긴다", "'불이야' 외치고 비상벨을 누른 후 대피한다", "스스로 불을 끄려고 시도한다", "상황을 촬영한다"], answer: "'불이야' 외치고 비상벨을 누른 후 대피한다" },
                { question: "8. 제1류, 제5류, 제6류 위험물이 화재 시 위험한 공통적인 이유는?", options: ["자체적으로 산소를 발생시켜 연소를 돕기 때문에", "물과 반응하여 수소를 발생시키기 때문에", "독성이 매우 강하기 때문에", "모두 액체라서"], answer: "자체적으로 산소를 발생시켜 연소를 돕기 때문에" },
                { question: "9. 화성 아리셀 공장 화재에서 큰 인명피해가 발생한 주요 원인 중 하나는?", options: ["공장 건물이 낡아서", "소방서가 너무 멀리 있어서", "작업장 내 다량의 배터리가 연쇄 폭발하고 유독가스가 발생해서", "전기가 끊겨서"], answer: "작업장 내 다량의 배터리가 연쇄 폭발하고 유독가스가 발생해서" },
                { question: "10. 소화기 사용법으로 올바른 것은?", options: ["바람을 마주보고 쏜다", "안전핀을 뽑고 바람을 등지고 쏜다", "멀리서 한 번에 모두 방출한다", "화재의 윗부분을 향해 쏜다"], answer: "안전핀을 뽑고 바람을 등지고 쏜다" }
            ];

            const quizContainer = document.getElementById('quiz-container');
            if (quizContainer) {
                quizData.forEach((quizItem, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.classList.add('mb-6');
                    let optionsHtml = '';
                    quizItem.options.forEach(option => {
                        optionsHtml += `<label class="block p-3 my-2 border rounded-lg cursor-pointer hover:bg-red-50 transition quiz-option"><input type="radio" name="question${index}" value="${option}" class="mr-2"> ${option}</label>`;
                    });
                    questionElement.innerHTML = `<p class="font-bold mb-2">${quizItem.question}</p><div id="q${index}-options">${optionsHtml}</div>`;
                    quizContainer.appendChild(questionElement);
                });
            }

            const submitButton = document.getElementById('submit-quiz');
            const resultsContainer = document.getElementById('quiz-results');
            if (submitButton) {
                submitButton.addEventListener('click', () => {
                    let score = 0;
                    quizData.forEach((quizItem, index) => {
                        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                        if (selectedOption) {
                            if (selectedOption.value === quizItem.answer) {
                                score++;
                            }
                        }
                    });
                    finalQuizScore = score * 10;
                    resultsContainer.innerHTML = `<h4 class="text-2xl font-bold">테스트 결과</h4><p class="text-xl mt-2">총 10문제 중 <span class="font-bold text-red-600">${score}</span>문제를 맞혔습니다. (${finalQuizScore}점)</p><p class="mt-4 text-slate-600">${score >= 7 ? '훌륭합니다! 테스트를 통과했습니다.' : '아쉽지만 통과하지 못했습니다. 내용을 다시 학습하고 재응시해주세요.'}</p>`;
                    if(score >= 7) {
                        isQuizCompleted = true;
                        checkCompletionStatus();
                    }
                });
            }
            
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = e.currentTarget.getAttribute('href');
                    if (document.querySelector(targetId)) {
                        document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', function() {
                const targetId = this.value;
                if (targetId && document.querySelector(targetId)) {
                    document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                }
            });

            const confirmButton = document.getElementById('confirm-completion');
            const userNameInput = document.getElementById('userName');
            const completionDateInput = document.getElementById('completionDate');

            if (completionDateInput) {
                const today = new Date();
                const yyyy = today.getFullYear();
                const mm = String(today.getMonth() + 1).padStart(2, '0');
                const dd = String(today.getDate()).padStart(2, '0');
                completionDateInput.value = `${yyyy}-${mm}-${dd}`;
            }
            
            if (confirmButton) {
                confirmButton.addEventListener('click', () => {
                    const userName = userNameInput.value.trim();
                    const completionDate = completionDateInput.value;

                    if (!userName) {
                        alert('소속과 이름을 입력해주세요.');
                        userNameInput.focus();
                        return;
                    }
                    
                    openCertificateWindow(userName, completionDate, finalQuizScore);
                });
            }
        });
    </script>
</body>
</html>

