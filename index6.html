<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>위험물 안전관리 교육 6</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Pink/Rose Tones -->
    <!-- Application Structure Plan: A thematic, single-page application focused on Class 5 Hazardous Materials. The structure includes a sticky top navigation for quick access to key sections. It features an interactive card interface for different types of Class 5 materials, a specific quiz, a mandatory training video, and a printable certificate upon completion. The confirmation section is now locked until both the quiz (score >= 70) and video are completed. The certificate now opens in a new, printable window without email functionality and with the updated logo. -->
    <!-- Visualization & Content Choices: Report Info: Class 5 materials -> Goal: Organize & Inform -> Viz/Presentation Method: Interactive cards. -> Interaction: Static. -> Justification: Breaks down complex information. Report Info: Storage/Handling/Extinguishing rules -> Goal: Instruct clearly -> Viz/Presentation Method: Icon-based grids. -> Interaction: Static. -> Justification: Enhances readability. Report Info: Knowledge Check -> Goal: Test understanding -> Viz/Presentation Method: Interactive Quiz -> Interaction: User selection and immediate feedback -> Justification: Reinforces learning. Report Info: Mandatory Video -> Goal: Ensure training completion -> Viz/Presentation Method: Embedded YouTube video -> Interaction: Video must be played to the end to unlock the next step -> Justification: Enforces training prerequisite. Report Info: User Confirmation -> Goal: Certify completion -> Viz/Presentation Method: Input form -> Interaction: User input generates a certificate in a new window -> Justification: Provides a record of training. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #e11d48; 
        }
        .content-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
        }
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            background-color: #000;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
        }
        #player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #confirmation-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(4px);
            z-index: 10;
        }
        #custom-play-button {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 5;
            transition: opacity 0.3s;
        }
        #custom-play-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        #custom-play-button svg {
            width: 80px;
            height: 80px;
            fill: white;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-rose-600">위험물 안전관리 교육 6</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#overview" class="nav-link text-slate-600 font-medium">제5류 위험물 개요</a>
                <a href="#rules" class="nav-link text-slate-600 font-medium">저장/취급/소화</a>
                <a href="#accidents" class="nav-link text-slate-600 font-medium">사고 사례</a>
                <a href="#test" class="nav-link text-slate-600 font-medium">안전 테스트</a>
                <a href="#video-training" class="nav-link text-slate-600 font-medium">필수 동영상</a>
                <a href="#confirmation" class="nav-link text-slate-600 font-medium">이수 확인</a>
            </div>
            <div class="md:hidden">
                <select id="mobile-nav" class="bg-white border border-slate-300 rounded-md p-2 text-slate-700">
                    <option value="#hero">메뉴 선택</option>
                    <option value="#overview">제5류 위험물 개요</option>
                    <option value="#rules">저장/취급/소화</option>
                    <option value="#accidents">사고 사례</option>
                    <option value="#test">안전 테스트</option>
                    <option value="#video-training">필수 동영상</option>
                    <option value="#confirmation">이수 확인</option>
                </select>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-12">
        
        <section id="hero" class="text-center py-12 md:py-20">
            <h2 class="text-3xl md:text-5xl font-bold mb-4">위험물 안전관리 교육 6</h2>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">이번 시간에는 가열, 충격에 매우 민감하여 폭발 위험이 큰 **제5류 위험물(자기반응성 물질)**의 종류와 특성, 안전한 관리 방법에 대해 심층적으로 학습합니다.</p>
        </section>

        <section id="overview" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">제5류 위험물: 자기반응성 물질이란?</h3>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-8 rounded-lg shadow-lg content-card">
                    <h4 class="text-xl font-bold text-rose-600 mb-4">정의 및 특징</h4>
                    <p class="text-slate-600 leading-relaxed">가연물이면서 동시에 분자 내에 산소를 함유하고 있어 외부의 산소 공급 없이도 스스로 연소(내부연소)하는 물질입니다. '폭발의 3요소(가연물, 산소, 점화원)' 중 가연물과 산소를 모두 가지고 있어 매우 위험합니다. 가열, 충격, 마찰에 매우 민감하여 쉽게 폭발할 수 있습니다.</p>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-lg content-card">
                    <h4 class="text-xl font-bold text-rose-600 mb-4">주요 품명</h4>
                    <ul class="space-y-2 text-slate-600 list-disc list-inside">
                        <li><strong>유기과산화물</strong> (예: 과산화벤조일)</li>
                        <li><strong>질산에스테르류</strong> (예: 니트로글리세린, 니트로셀룰로오스)</li>
                        <li><strong>니트로화합물, 니트로소화합물</strong></li>
                        <li><strong>아조화합물, 디아조화합물</strong> 등</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="rules" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">저장, 취급 및 소화 방법</h3>
            <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-rose-700 text-center">✅ 저장 및 취급</h4>
                    <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-4">
                        <li><strong>가열, 충격, 마찰 절대 금지.</strong></li>
                        <li>온도가 상승하면 분해되어 폭발할 수 있으므로 통풍이 잘 되는 서늘하고 어두운 곳에 보관.</li>
                        <li>용기 파손 및 물질 누설에 극히 주의.</li>
                        <li>폭발 위험을 줄이기 위해 소분하여 분산 저장.</li>
                        <li>필요 시 습윤제(물, 알코올 등)를 첨가하여 안정성을 높임.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-rose-700 text-center">🔥 화재 시 특징</h4>
                    <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-4">
                        <li>연소 속도가 매우 빨라 폭발(폭굉)을 동반.</li>
                        <li>산소 없이도 연소하므로 질식 소화 효과가 거의 없음.</li>
                        <li>초기 진화에 실패하면 대규모 폭발로 이어질 수 있음.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-rose-700 text-center">🧯 소화 방법</h4>
                     <ul class="text-slate-600 text-sm list-disc list-inside space-y-2 mt-4">
                        <li><strong>초기 화재 시 다량의 물로 냉각 소화:</strong> 연쇄적인 분해 폭발을 막기 위해 대량의 물을 사용하여 온도를 낮추는 것이 가장 중요.</li>
                        <li><strong>질식 소화 효과 없음:</strong> 자체 산소를 가지고 있으므로 거품, 분말, 이산화탄소 등의 질식 소화 방법은 효과가 거의 없음.</li>
                        <li><strong>대피 우선:</strong> 화재가 확대되어 진압이 어려운 경우, 폭발 위험이 매우 크므로 즉시 안전한 곳으로 대피.</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="accidents" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">제5류 위험물 관련 사고 사례</h3>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden content-card">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/wPdSx7vzt-M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="p-6">
                    <h4 class="font-bold text-xl mb-2">미국 아케마 화학 공장 폭발 (2017)</h4>
                    <p class="text-slate-600 text-sm mb-4">2017년 허리케인 '하비'가 미국 텍사스주를 강타하면서 아케마 화학 공장이 침수되었습니다. 이로 인해 전력 공급이 중단되고 비상 발전기마저 물에 잠겨, 유기과산화물(제5류 위험물)을 보관하던 냉장 컨테이너의 온도가 급격히 상승했습니다. 결국 온도를 제어하지 못한 유기과산화물이 연쇄적으로 분해되며 수차례 대형 폭발을 일으켰습니다.</p>
                    <div class="bg-rose-100 p-3 rounded">
                        <h5 class="font-bold text-rose-800 text-sm">원인 및 교훈</h5>
                        <p class="text-rose-700 text-xs mt-1">제5류 위험물은 온도 상승에 매우 민감하여 스스로 분해하며 폭발할 수 있다는 점을 명확히 보여준 사고입니다. 온도 유지가 필수적인 위험물은 정전에 대비한 비상 전력 시스템이 반드시 필요하며, 자연재해 등 최악의 상황까지 고려한 다중 안전장치를 확보해야 합니다. 온도 관리 실패가 곧 폭발로 이어진다는 점을 명심해야 합니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="test" class="py-12 md:py-16 bg-white rounded-xl shadow-lg">
            <div class="text-center mb-10 px-4">
                <h3 class="text-2xl md:text-3xl font-bold mb-2">안전 지식 테스트 (제5류 위험물)</h3>
                <p class="text-slate-600">학습한 내용을 바탕으로 퀴즈를 풀어보세요. 70점 이상 획득해야 이수증 발급이 가능합니다.</p>
            </div>
            <div id="quiz-container" class="max-w-4xl mx-auto px-4 md:px-8 space-y-8">
            </div>
            <div class="text-center mt-8">
                <button id="submit-quiz" class="bg-rose-600 text-white font-bold py-3 px-8 rounded-full hover:bg-rose-700 transition-colors">결과 확인</button>
            </div>
            <div id="quiz-results" class="max-w-4xl mx-auto px-4 md:px-8 mt-8 text-center"></div>
        </section>

        <section id="video-training" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">필수 교육 동영상 시청</h3>
            <div class="max-w-4xl mx-auto bg-white p-4 rounded-xl shadow-lg">
                <div id="video-container" class="rounded-lg overflow-hidden">
                    <div id="player"></div>
                    <div id="custom-play-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M8,5.14V19.14L19,12.14L8,5.14Z" />
                        </svg>
                    </div>
                </div>
                <p id="video-message" class="text-center text-rose-600 font-semibold mt-4">이수 확인을 위해 동영상을 끝까지 시청해주세요.</p>
            </div>
        </section>

        <section id="confirmation" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">교육 이수 확인</h3>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg relative">
                 <div id="confirmation-form-wrapper">
                    <p class="text-slate-600 mb-6 text-center">아래 정보를 입력하고 '이수 확인증 생성' 버튼을 눌러 교육 이수를 완료하세요.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="userName" class="block text-sm font-medium text-slate-700">소속 / 이름</label>
                            <input type="text" id="userName" name="userName" placeholder="예: 홍길동 (안전관리팀)" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500">
                        </div>
                        <div>
                            <label for="completionDate" class="block text-sm font-medium text-slate-700">이수 날짜</label>
                            <input type="date" id="completionDate" name="completionDate" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-rose-500 focus:border-rose-500">
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button id="confirm-completion" class="bg-rose-600 text-white font-bold py-3 px-8 rounded-full hover:bg-rose-700 transition-colors">이수 확인증 생성</button>
                    </div>
                </div>
                <div id="confirmation-overlay" class="flex items-center justify-center text-center rounded-xl">
                    <p id="overlay-text" class="text-lg font-bold text-slate-700 bg-slate-200/80 p-6 rounded-lg">
                        <span class="text-3xl mb-2 block">🔒</span>
                        안전 테스트를 70점 이상으로 통과하고<br>필수 교육 동영상을 시청해주세요.
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-12">
        <div class="container mx-auto px-6 py-10 text-center">
            <h3 class="text-2xl font-bold mb-4 text-rose-500">안전은 실천입니다.</h3>
            <p class="text-slate-300 max-w-2xl mx-auto mb-6">위험 요소 발견 시 즉시 보고하고, 정기적인 안전 교육과 훈련에 적극적으로 참여하여 우리 모두의 안전한 일터를 만듭시다.</p>
            <p class="text-sm text-slate-400">&copy; 2024 Interactive Safety Guide. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        let player;
        let finalQuizScore = 0;
        let isQuizCompleted = false;
        let isVideoCompleted = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'P6QYUw37ewY', 
                playerVars: { 
                    'playsinline': 1,
                    'controls': 0,
                    'disablekb': 1,
                    'rel': 0
                },
                events: { 'onStateChange': onPlayerStateChange }
            });
        }

        function onPlayerStateChange(event) {
            const customPlayButton = document.getElementById('custom-play-button');
            if (event.data == YT.PlayerState.PLAYING) {
                customPlayButton.style.display = 'none';
            }
            if (event.data == YT.PlayerState.PAUSED) {
                customPlayButton.style.display = 'flex';
            }
            if (event.data == YT.PlayerState.ENDED) {
                customPlayButton.style.display = 'flex';
                isVideoCompleted = true;
                document.getElementById('video-message').textContent = '✅ 동영상 시청을 완료했습니다.';
                document.getElementById('video-message').classList.remove('text-rose-600');
                document.getElementById('video-message').classList.add('text-green-500');
                checkCompletionStatus();
            }
        }

        function checkCompletionStatus() {
            const overlay = document.getElementById('confirmation-overlay');
            const overlayText = document.getElementById('overlay-text');
            if (isQuizCompleted && isVideoCompleted) {
                overlay.style.display = 'none';
            } else if (isQuizCompleted && !isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>필수 교육 동영상을 시청해주세요.`;
            } else if (!isQuizCompleted && isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>안전 테스트를 70점 이상으로 통과해주세요.`;
            }
        }
        
        function openCertificateWindow(userName, completionDate, quizScore) {
            const certWindow = window.open('', '_blank', 'width=1123,height=794');
            certWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <title>위험물 안전교육 이수 확인증</title>
                    <script src="https://cdn.tailwindcss.com"><\/script>
                    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
                    <style>
                        body { font-family: 'Noto Sans KR', sans-serif; }
                        @media print {
                            #cert-actions { display: none; }
                        }
                    </style>
                </head>
                <body class="bg-gray-100 flex items-center justify-center">
                    <div class="bg-white p-10 relative w-full max-w-4xl aspect-[297/210] shadow-lg" id="certificate-content">
                        <div class="absolute top-8 right-8">
                             <img src="https://d32gkk464bsqbe.cloudfront.net/company-profiles/o/58445cdc9bb4dffd9edfde94c4a06cf87f4ac55f.jpeg?v=6.8.13" alt="Thermo Fisher Scientific Logo" class="w-40">
                        </div>
                        <div class="flex flex-col h-full justify-center items-center text-center">
                            <h1 class="text-5xl font-bold text-[#E1251B] mb-20">위험물 안전교육 이수 확인증</h1>
                            <div class="text-2xl space-y-4 text-left">
                                <p><strong>교육 과정:</strong> 위험물 안전관리 교육 6 (제5류 위험물)</p>
                                <p><strong>날짜:</strong> ${completionDate.replaceAll('-', '.')}</p>
                                <p><strong>TEST 결과:</strong> ${quizScore}점</p>
                                <p><strong>소속:</strong> 인천 ICDC</p>
                                <p><strong>이름:</strong> ${userName}</p>
                            </div>
                        </div>
                        <div id="cert-actions" class="absolute bottom-4 right-4 space-x-2">
                            <button onclick="window.print()" class="bg-rose-600 text-white font-bold py-2 px-4 rounded hover:bg-rose-700 transition-colors">인쇄</button>
                            <button onclick="window.close()" class="bg-slate-500 text-white font-bold py-2 px-4 rounded hover:bg-slate-600 transition-colors">닫기</button>
                        </div>
                    </div>
                </body>
                </html>
            `);
            certWindow.document.close();
        }

        document.addEventListener('DOMContentLoaded', function () {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            const customPlayButton = document.getElementById('custom-play-button');
            if (customPlayButton) {
                customPlayButton.addEventListener('click', () => {
                    if (player && typeof player.playVideo === 'function') {
                        player.playVideo();
                    }
                });
            }

            const quizData = [
                { question: "1. 제5류 위험물이 외부 산소 없이도 연소할 수 있는 이유는 무엇인가요?", options: ["공기 중 질소와 반응해서", "물과 반응해서 산소를 만들어서", "분자 내에 산소를 포함하고 있어서"], answer: "분자 내에 산소를 포함하고 있어서" },
                { question: "2. 다음 중 제5류 위험물이 아닌 것은?", options: ["니트로글리세린", "질산암모늄", "유기과산화물"], answer: "질산암모늄" },
                { question: "3. 제5류 위험물의 가장 큰 위험성은?", options: ["강한 부식성", "자연 발화", "가열, 충격, 마찰에 의한 폭발"], answer: "가열, 충격, 마찰에 의한 폭발" },
                { question: "4. 제5류 위험물 화재 시 질식 소화(분말, CO2 등) 효과가 거의 없는 이유는?", options: ["온도가 너무 높아서", "자체적으로 산소를 공급하기 때문에", "연소 속도가 너무 느려서"], answer: "자체적으로 산소를 공급하기 때문에" },
                { question: "5. 제5류 위험물 화재 시 가장 효과적인 소화 방법은?", options: ["마른 모래로 덮기", "다량의 물로 냉각하기", "산소 공급 차단"], answer: "다량의 물로 냉각하기" },
                { question: "6. 제5류 위험물을 보관할 때 가장 중요하게 관리해야 할 것은?", options: ["습도", "온도", "압력"], answer: "온도" },
                { question: "7. 미국 아케마 공장 폭발 사고의 직접적인 원인은 무엇이었나요?", options: ["작업자 부주의", "냉각 시스템 정지로 인한 온도 상승", "외부 충격"], answer: "냉각 시스템 정지로 인한 온도 상승" },
                { question: "8. 제5류 위험물을 안전하게 보관하는 방법으로 틀린 것은?", options: ["소분하여 분산 저장", "밀폐된 공간에 대량으로 저장", "통풍이 잘 되는 서늘한 곳에 저장"], answer: "밀폐된 공간에 대량으로 저장" },
                { question: "9. 니트로셀룰로오스의 안정성을 높이기 위해 첨가하는 물질은?", options: ["기름", "물 또는 알코올", "모래"], answer: "물 또는 알코올" },
                { question: "10. 제5류 위험물 화재가 확대되어 진압이 어려울 때 가장 먼저 해야 할 일은?", options: ["소화 시도 계속", "즉시 대피", "위험물질 이동"], answer: "즉시 대피" }
            ];

            const quizContainer = document.getElementById('quiz-container');
            if (quizContainer) {
                quizData.forEach((quizItem, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.classList.add('mb-6');
                    let optionsHtml = '';
                    quizItem.options.forEach(option => {
                        optionsHtml += `<label class="block p-3 my-2 border rounded-lg cursor-pointer hover:bg-rose-50 transition quiz-option"><input type="radio" name="question${index}" value="${option}" class="mr-2"> ${option}</label>`;
                    });
                    questionElement.innerHTML = `<p class="font-bold mb-2">${quizItem.question}</p><div id="q${index}-options">${optionsHtml}</div>`;
                    quizContainer.appendChild(questionElement);
                });
            }

            const submitButton = document.getElementById('submit-quiz');
            const resultsContainer = document.getElementById('quiz-results');
            if (submitButton) {
                submitButton.addEventListener('click', () => {
                    let score = 0;
                    quizData.forEach((quizItem, index) => {
                        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                        if (selectedOption) {
                            if (selectedOption.value === quizItem.answer) {
                                score++;
                            }
                        }
                    });
                    finalQuizScore = score * 10;
                    resultsContainer.innerHTML = `<h4 class="text-2xl font-bold">테스트 결과</h4><p class="text-xl mt-2">총 10문제 중 <span class="font-bold text-rose-600">${score}</span>문제를 맞혔습니다. (${finalQuizScore}점)</p><p class="mt-4 text-slate-600">${score >= 7 ? '훌륭합니다! 테스트를 통과했습니다.' : '아쉽지만 통과하지 못했습니다. 내용을 다시 학습하고 재응시해주세요.'}</p>`;
                    if(score >= 7) {
                        isQuizCompleted = true;
                        checkCompletionStatus();
                    }
                });
            }
            
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = e.currentTarget.getAttribute('href');
                    if (document.querySelector(targetId)) {
                        document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', function() {
                const targetId = this.value;
                if (targetId && document.querySelector(targetId)) {
                    document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                }
            });

            const confirmButton = document.getElementById('confirm-completion');
            const userNameInput = document.getElementById('userName');
            const completionDateInput = document.getElementById('completionDate');

            if (completionDateInput) {
                const today = new Date();
                const yyyy = today.getFullYear();
                const mm = String(today.getMonth() + 1).padStart(2, '0');
                const dd = String(today.getDate()).padStart(2, '0');
                completionDateInput.value = `${yyyy}-${mm}-${dd}`;
            }
            
            if (confirmButton) {
                confirmButton.addEventListener('click', () => {
                    const userName = userNameInput.value.trim();
                    const completionDate = completionDateInput.value;

                    if (!userName) {
                        alert('소속과 이름을 입력해주세요.');
                        userNameInput.focus();
                        return;
                    }
                    
                    openCertificateWindow(userName, completionDate, finalQuizScore);
                });
            }
        });
    </script>
</body>
</html>
