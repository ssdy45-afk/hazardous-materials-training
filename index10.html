<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>위험물 안전관리 교육 10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Teal Tones -->
    <!-- Application Structure Plan: A thematic, single-page application focused on Hazardous Material Facilities (Manufacturing, Storage, Handling). The structure includes a sticky top navigation for quick access to key sections. It features an interactive card interface for facility types and standards, a specific quiz, a mandatory training video, and a printable certificate upon completion. The confirmation section is now locked until both the quiz (score >= 70) and video are completed. The certificate now opens in a new, printable window without email functionality and with the updated logo. -->
    <!-- Visualization & Content Choices: Report Info: Facility standards -> Goal: Organize & Inform -> Viz/Presentation Method: Interactive cards/grids. -> Interaction: Static. -> Justification: Breaks down complex information. Report Info: Knowledge Check -> Goal: Test understanding -> Viz/Presentation Method: Interactive Quiz -> Interaction: User selection and immediate feedback -> Justification: Reinforces learning. Report Info: Mandatory Video -> Goal: Ensure training completion -> Viz/Presentation Method: Embedded YouTube video -> Interaction: Video must be played to the end to unlock the next step -> Justification: Enforces training prerequisite. Report Info: User Confirmation -> Goal: Certify completion -> Viz/Presentation Method: Input form -> Interaction: User input generates a certificate in a new window -> Justification: Provides a record of training. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #0d9488; 
        }
        .content-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
        }
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            background-color: #000;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
        }
        #player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #confirmation-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(4px);
            z-index: 10;
        }
        #custom-play-button {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 5;
            transition: opacity 0.3s;
        }
        #custom-play-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        #custom-play-button svg {
            width: 80px;
            height: 80px;
            fill: white;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-teal-600">위험물 안전관리 교육 10</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#overview" class="nav-link text-slate-600 font-medium">제조소등 개요</a>
                <a href="#rules" class="nav-link text-slate-600 font-medium">핵심 설비 기준</a>
                <a href="#accidents" class="nav-link text-slate-600 font-medium">사고 사례</a>
                <a href="#test" class="nav-link text-slate-600 font-medium">안전 테스트</a>
                <a href="#video-training" class="nav-link text-slate-600 font-medium">필수 동영상</a>
                <a href="#confirmation" class="nav-link text-slate-600 font-medium">이수 확인</a>
            </div>
            <div class="md:hidden">
                <select id="mobile-nav" class="bg-white border border-slate-300 rounded-md p-2 text-slate-700">
                    <option value="#hero">메뉴 선택</option>
                    <option value="#overview">제조소등 개요</option>
                    <option value="#rules">핵심 설비 기준</option>
                    <option value="#accidents">사고 사례</option>
                    <option value="#test">안전 테스트</option>
                    <option value="#video-training">필수 동영상</option>
                    <option value="#confirmation">이수 확인</option>
                </select>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-12">
        
        <section id="hero" class="text-center py-12 md:py-20">
            <h2 class="text-3xl md:text-5xl font-bold mb-4">위험물 안전관리 교육 10</h2>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">이번 시간에는 위험물 안전관리법상 **제조소등(제조소·저장소·취급소)**의 기준에 대해 심층적으로 학습합니다.</p>
        </section>

        <section id="overview" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">제조소등의 구분 및 허가</h3>
            <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg content-card">
                <h4 class="text-xl font-bold text-teal-600 mb-4">제조소, 저장소, 취급소란?</h4>
                <p class="text-slate-600 leading-relaxed mb-4">위험물 안전관리법에서는 지정수량 이상의 위험물을 다루는 시설을 크게 세 가지로 구분하여 관리합니다. 이러한 시설을 설치하려면 반드시 관할 시·도지사의 허가를 받아야 합니다.</p>
                <ul class="space-y-4 text-slate-600">
                    <li><strong>제조소:</strong> 위험물을 제조할 목적으로 지정수량 이상의 위험물을 취급하기 위한 시설.</li>
                    <li><strong>저장소:</strong> 지정수량 이상의 위험물을 저장하기 위한 시설. (옥내/옥외탱크/이동탱크 저장소 등 8종류)</li>
                    <li><strong>취급소:</strong> 제조 외의 목적으로 위험물을 판매, 소비, 이송하기 위한 시설. (주유/판매/이송 취급소 등 4종류)</li>
                </ul>
            </div>
        </section>

        <section id="rules" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">제조소등의 위치·구조·설비 공통 기준</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">안전거리</h4>
                    <p class="text-slate-600 text-sm">학교, 병원, 문화재 등 보호 대상물로부터 법에서 정한 일정 거리 이상을 확보해야 합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">보유 공지</h4>
                    <p class="text-slate-600 text-sm">시설 주위에 화재 시 소화 활동 및 연소 확산 방지를 위한 빈 땅(공지)을 확보해야 합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">구조 및 재료</h4>
                    <p class="text-slate-600 text-sm">벽, 기둥, 바닥 등은 내화구조로 하고, 출입구에는 방화문을 설치해야 합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">채광·조명·환기</h4>
                    <p class="text-slate-600 text-sm">가연성 증기가 체류하지 않도록 환기 설비를 갖추고, 조명은 방폭등을 설치해야 합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">소화 및 경보설비</h4>
                    <p class="text-slate-600 text-sm">위험물의 종류와 수량에 따라 적응성 있는 소화기, 옥내소화전, 스프링클러 등 소화설비와 경보설비를 설치해야 합니다.</p>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg content-card">
                    <h4 class="font-bold text-lg my-2 text-teal-700">피뢰설비</h4>
                    <p class="text-slate-600 text-sm">지정수량 10배 이상의 위험물을 취급하는 시설에는 낙뢰로부터 보호하기 위한 피뢰설비를 설치해야 합니다.</p>
                </div>
            </div>
        </section>
        
        <section id="accidents" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">시설 관리 부실로 인한 사고 사례</h3>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden content-card">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/97JSjiYYwPg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                <div class="p-6">
                    <h4 class="font-bold text-xl mb-2">서산 한화토탈 대산공장 유증기 유출 (2019)</h4>
                    <p class="text-slate-600 text-sm mb-4">스티렌모노머(제4류 위험물) 저장탱크의 온도가 급상승하면서 다량의 유증기가 외부로 유출되었습니다. 이 사고로 인근 주민과 근로자 수백 명이 어지럼증과 구토 증세를 호소했습니다. 사고 원인은 탱크 내부의 중합반응을 억제하는 장치의 고장 및 온도 관리 시스템의 부실로 밝혀졌습니다.</p>
                    <div class="bg-teal-100 p-3 rounded">
                        <h5 class="font-bold text-teal-800 text-sm">원인 및 교훈</h5>
                        <p class="text-teal-700 text-xs mt-1">위험물 저장탱크의 온도, 압력, 액위 등을 감시하는 계측장치와 안전장치(긴급차단밸브, 냉각장치 등)에 대한 정기적인 점검 및 유지보수 실패가 사고의 핵심 원인입니다. 시설 기준을 준수하여 설치하는 것만큼, 설치된 설비가 항상 정상적으로 작동하도록 유지·관리하는 것이 매우 중요합니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="test" class="py-12 md:py-16 bg-white rounded-xl shadow-lg">
            <div class="text-center mb-10 px-4">
                <h3 class="text-2xl md:text-3xl font-bold mb-2">안전 지식 테스트 (제조소등 기준)</h3>
                <p class="text-slate-600">학습한 내용을 바탕으로 퀴즈를 풀어보세요. 70점 이상 획득해야 이수증 발급이 가능합니다.</p>
            </div>
            <div id="quiz-container" class="max-w-4xl mx-auto px-4 md:px-8 space-y-8">
            </div>
            <div class="text-center mt-8">
                <button id="submit-quiz" class="bg-teal-600 text-white font-bold py-3 px-8 rounded-full hover:bg-teal-700 transition-colors">결과 확인</button>
            </div>
            <div id="quiz-results" class="max-w-4xl mx-auto px-4 md:px-8 mt-8 text-center"></div>
        </section>

        <section id="video-training" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">필수 교육 동영상 시청</h3>
            <div class="max-w-4xl mx-auto bg-white p-4 rounded-xl shadow-lg">
                <div id="video-container" class="rounded-lg overflow-hidden">
                    <div id="player"></div>
                    <div id="custom-play-button">
                        <svg viewBox="0 0 24 24">
                            <path d="M8,5.14V19.14L19,12.14L8,5.14Z" />
                        </svg>
                    </div>
                </div>
                <p id="video-message" class="text-center text-teal-600 font-semibold mt-4">이수 확인을 위해 동영상을 끝까지 시청해주세요.</p>
            </div>
        </section>

        <section id="confirmation" class="py-12 md:py-16">
            <h3 class="text-2xl md:text-3xl font-bold text-center mb-10">교육 이수 확인</h3>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg relative">
                 <div id="confirmation-form-wrapper">
                    <p class="text-slate-600 mb-6 text-center">아래 정보를 입력하고 '이수 확인증 생성' 버튼을 눌러 교육 이수를 완료하세요.</p>
                    <div class="space-y-4">
                        <div>
                            <label for="userName" class="block text-sm font-medium text-slate-700">소속 / 이름</label>
                            <input type="text" id="userName" name="userName" placeholder="예: 홍길동 (안전관리팀)" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500">
                        </div>
                        <div>
                            <label for="completionDate" class="block text-sm font-medium text-slate-700">이수 날짜</label>
                            <input type="date" id="completionDate" name="completionDate" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500">
                        </div>
                    </div>
                    <div class="text-center mt-8">
                        <button id="confirm-completion" class="bg-teal-600 text-white font-bold py-3 px-8 rounded-full hover:bg-teal-700 transition-colors">이수 확인증 생성</button>
                    </div>
                </div>
                <div id="confirmation-overlay" class="flex items-center justify-center text-center rounded-xl">
                    <p id="overlay-text" class="text-lg font-bold text-slate-700 bg-slate-200/80 p-6 rounded-lg">
                        <span class="text-3xl mb-2 block">🔒</span>
                        안전 테스트를 70점 이상으로 통과하고<br>필수 교육 동영상을 시청해주세요.
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-12">
        <div class="container mx-auto px-6 py-10 text-center">
            <h3 class="text-2xl font-bold mb-4 text-teal-500">안전은 실천입니다.</h3>
            <p class="text-slate-300 max-w-2xl mx-auto mb-6">위험 요소 발견 시 즉시 보고하고, 정기적인 안전 교육과 훈련에 적극적으로 참여하여 우리 모두의 안전한 일터를 만듭시다.</p>
            <p class="text-sm text-slate-400">&copy; 2024 Interactive Safety Guide. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        let player;
        let finalQuizScore = 0;
        let isQuizCompleted = false;
        let isVideoCompleted = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: 'AqURIA2-GAU', 
                playerVars: { 
                    'playsinline': 1,
                    'start': 243,
                    'controls': 0,
                    'disablekb': 1,
                    'rel': 0
                },
                events: { 'onStateChange': onPlayerStateChange }
            });
        }

        function onPlayerStateChange(event) {
            const customPlayButton = document.getElementById('custom-play-button');
            if (event.data == YT.PlayerState.PLAYING) {
                customPlayButton.style.display = 'none';
            }
            if (event.data == YT.PlayerState.PAUSED) {
                customPlayButton.style.display = 'flex';
            }
            if (event.data == YT.PlayerState.ENDED) {
                customPlayButton.style.display = 'flex';
                isVideoCompleted = true;
                document.getElementById('video-message').textContent = '✅ 동영상 시청을 완료했습니다.';
                document.getElementById('video-message').classList.remove('text-teal-600');
                document.getElementById('video-message').classList.add('text-green-500');
                checkCompletionStatus();
            }
        }

        function checkCompletionStatus() {
            const overlay = document.getElementById('confirmation-overlay');
            const overlayText = document.getElementById('overlay-text');
            if (isQuizCompleted && isVideoCompleted) {
                overlay.style.display = 'none';
            } else if (isQuizCompleted && !isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>필수 교육 동영상을 시청해주세요.`;
            } else if (!isQuizCompleted && isVideoCompleted) {
                overlayText.innerHTML = `<span class="text-3xl mb-2 block">🔒</span>안전 테스트를 70점 이상으로 통과해주세요.`;
            }
        }
        
        function openCertificateWindow(userName, completionDate, quizScore) {
            const certWindow = window.open('', '_blank', 'width=1123,height=794');
            certWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <title>위험물 안전교육 이수 확인증</title>
                    <script src="https://cdn.tailwindcss.com"><\/script>
                    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
                    <style>
                        body { font-family: 'Noto Sans KR', sans-serif; }
                        @media print {
                            #cert-actions { display: none; }
                        }
                    </style>
                </head>
                <body class="bg-gray-100 flex items-center justify-center">
                    <div class="bg-white p-10 relative w-full max-w-4xl aspect-[297/210] shadow-lg" id="certificate-content">
                        <div class="absolute top-8 right-8">
                             <img src="https://d32gkk464bsqbe.cloudfront.net/company-profiles/o/58445cdc9bb4dffd9edfde94c4a06cf87f4ac55f.jpeg?v=6.8.13" alt="Thermo Fisher Scientific Logo" class="w-40">
                        </div>
                        <div class="flex flex-col h-full justify-center items-center text-center">
                            <h1 class="text-5xl font-bold text-[#E1251B] mb-20">위험물 안전교육 이수 확인증</h1>
                            <div class="text-2xl space-y-4 text-left">
                                <p><strong>교육 과정:</strong> 위험물 안전관리 교육 10 (제조소등)</p>
                                <p><strong>날짜:</strong> ${completionDate.replaceAll('-', '.')}</p>
                                <p><strong>TEST 결과:</strong> ${quizScore}점</p>
                                <p><strong>소속:</strong> 인천 ICDC</p>
                                <p><strong>이름:</strong> ${userName}</p>
                            </div>
                        </div>
                        <div id="cert-actions" class="absolute bottom-4 right-4 space-x-2">
                            <button onclick="window.print()" class="bg-teal-600 text-white font-bold py-2 px-4 rounded hover:bg-teal-700 transition-colors">인쇄</button>
                            <button onclick="window.close()" class="bg-slate-500 text-white font-bold py-2 px-4 rounded hover:bg-slate-600 transition-colors">닫기</button>
                        </div>
                    </div>
                </body>
                </html>
            `);
            certWindow.document.close();
        }

        document.addEventListener('DOMContentLoaded', function () {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            
            const customPlayButton = document.getElementById('custom-play-button');
            if (customPlayButton) {
                customPlayButton.addEventListener('click', () => {
                    if (player && typeof player.playVideo === 'function') {
                        player.playVideo();
                    }
                });
            }

            const quizData = [
                { question: "1. 지정수량 이상의 위험물을 판매하기 위해 용기에 담아 판매하는 시설은 무엇인가요?", options: ["제조소", "저장소", "판매취급소"], answer: "판매취급소" },
                { question: "2. 위험물 시설과 학교, 병원 등과의 사이에 두어야 하는 거리를 무엇이라고 하나요?", options: ["보유 공지", "안전거리", "이격거리"], answer: "안전거리" },
                { question: "3. 가연성 증기가 체류할 우려가 있는 건축물에 설치하는 조명등은 어떤 구조여야 하나요?", options: ["방수등", "방폭등", "LED등"], answer: "방폭등" },
                { question: "4. 위험물 저장탱크에서 액체가 누설되는 것을 막기 위해 탱크 주위에 설치하는 턱을 무엇이라고 하나요?", options: ["방화벽", "방유제", "방파제"], answer: "방유제" },
                { question: "5. 지정수량 10배 이상의 위험물을 취급하는 옥외 시설에 낙뢰 피해를 막기 위해 설치해야 하는 설비는?", options: ["소화설비", "경보설비", "피뢰설비"], answer: "피뢰설비" },
                { question: "6. 제조소등의 위치, 구조 또는 설비를 변경하고자 할 때에는 어떻게 해야 하나요?", options: ["신고 없이 변경한다", "시·도지사에게 신고한다", "시·도지사의 허가를 받는다"], answer: "시·도지사의 허가를 받는다" },
                { question: "7. 서산 한화토탈 사고의 주된 원인은 무엇이었나요?", options: ["자연재해로 인한 침수", "저장탱크의 온도 관리 시스템 부실", "작업자의 방화"], answer: "저장탱크의 온도 관리 시스템 부실" },
                { question: "8. 위험물 시설의 벽, 기둥, 바닥을 불에 타지 않는 재료로 만들어야 하는 기준을 무엇이라고 하나요?", options: ["내진구조", "방수구조", "내화구조"], answer: "내화구조" },
                { question: "9. 주유소(주유취급소)에서 가장 중요한 안전 설비 중 하나로, 자동차에 주유하는 기계는 무엇인가요?", options: ["고정주유설비", "이동주유설비", "현수식주유설비"], answer: "고정주유설비" },
                { question: "10. 위험물 시설 설치 허가를 받기 위한 첫 번째 단계는 무엇인가요?", options: ["공사 시작", "관할 소방서에 설치 계획서 제출", "완공 후 신고"], answer: "관할 소방서에 설치 계획서 제출" }
            ];

            const quizContainer = document.getElementById('quiz-container');
            if (quizContainer) {
                quizData.forEach((quizItem, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.classList.add('mb-6');
                    let optionsHtml = '';
                    quizItem.options.forEach(option => {
                        optionsHtml += `<label class="block p-3 my-2 border rounded-lg cursor-pointer hover:bg-teal-50 transition quiz-option"><input type="radio" name="question${index}" value="${option}" class="mr-2"> ${option}</label>`;
                    });
                    questionElement.innerHTML = `<p class="font-bold mb-2">${quizItem.question}</p><div id="q${index}-options">${optionsHtml}</div>`;
                    quizContainer.appendChild(questionElement);
                });
            }

            const submitButton = document.getElementById('submit-quiz');
            const resultsContainer = document.getElementById('quiz-results');
            if (submitButton) {
                submitButton.addEventListener('click', () => {
                    let score = 0;
                    quizData.forEach((quizItem, index) => {
                        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                        if (selectedOption) {
                            if (selectedOption.value === quizItem.answer) {
                                score++;
                            }
                        }
                    });
                    finalQuizScore = score * 10;
                    resultsContainer.innerHTML = `<h4 class="text-2xl font-bold">테스트 결과</h4><p class="text-xl mt-2">총 10문제 중 <span class="font-bold text-teal-600">${score}</span>문제를 맞혔습니다. (${finalQuizScore}점)</p><p class="mt-4 text-slate-600">${score >= 7 ? '훌륭합니다! 테스트를 통과했습니다.' : '아쉽지만 통과하지 못했습니다. 내용을 다시 학습하고 재응시해주세요.'}</p>`;
                    if(score >= 7) {
                        isQuizCompleted = true;
                        checkCompletionStatus();
                    }
                });
            }
            
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = e.currentTarget.getAttribute('href');
                    if (document.querySelector(targetId)) {
                        document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', function() {
                const targetId = this.value;
                if (targetId && document.querySelector(targetId)) {
                    document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                }
            });

            const confirmButton = document.getElementById('confirm-completion');
            const userNameInput = document.getElementById('userName');
            const completionDateInput = document.getElementById('completionDate');

            if (completionDateInput) {
                const today = new Date();
                const yyyy = today.getFullYear();
                const mm = String(today.getMonth() + 1).padStart(2, '0');
                const dd = String(today.getDate()).padStart(2, '0');
                completionDateInput.value = `${yyyy}-${mm}-${dd}`;
            }
            
            if (confirmButton) {
                confirmButton.addEventListener('click', () => {
                    const userName = userNameInput.value.trim();
                    const completionDate = completionDateInput.value;

                    if (!userName) {
                        alert('소속과 이름을 입력해주세요.');
                        userNameInput.focus();
                        return;
                    }
                    
                    openCertificateWindow(userName, completionDate, finalQuizScore);
                });
            }
        });
    </script>
</body>
</html>

